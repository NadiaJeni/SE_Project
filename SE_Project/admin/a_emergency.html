<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donor List | Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- navbar start -->
    <nav class="navbar navbar-expand-lg nav_bar">
        <div class="container-fluid nav_container">
            <a class="navbar-brand" href="#">
                Quantum Blood Lab <i class="fa-solid fa-droplet"></i>
            </a>
            <button id="logoutBtn" class="logout-button">
                Logout <span><i class="fa-solid fa-right-from-bracket"></i></span>
            </button>
        </div>
    </nav>
    <!-- navbar end -->
    <!-- dashboard container start (THIS is what was missing) -->
    <div class="dashboardContainer">
        <!-- sidebar start -->
        <div class="sidebar bg-dark text-white text-center">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item p-2 border-bottom border-secondary">
                    <a class="nav-link text-white" href="a_dashboard.html">🏠 Dashboard</a>
                </li>
                <li class="nav-item p-2 border-bottom border-secondary ">
                    <a class="nav-link text-white" href="a_donors.html">🩸 Donor List</a>
                </li>
                <li class="nav-item p-2 border-bottom border-secondary">
                    <a class="nav-link text-white" href="a_patients.html">👤 Patient List</a>
                </li>
                <li class="nav-item p-2 border-bottom border-secondary">
                    <a class="nav-link text-white" href="a_requests.html">📥 Blood Requests</a>
                </li>
                <li class="nav-item p-2 border-bottom border-secondary active-li">
                    <a class="nav-link text-white" href="a_emergency.html">🚨 Emergency Requests</a>
                </li>
                <li class="nav-item p-2 border-bottom border-secondary">
                    <a class="nav-link text-white" href="../logout.php">🔓 Logout</a>
                </li>
            </ul>
        </div>
        <!-- sidebar end -->
        <!-- Content area -->
        <div class="main-content">
            <h2 class="mb-4">EMERGENCY  REQUESTS !</h2>
            <table class="table table-bordered table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Request ID</th>
                        <th>Name</th>
                        <th>Blood Group</th>
                        <th>Hospital</th>
                        <th>Phone</th>
                        <th>Status</th>
                        <th>Request Time</th>
                    </tr>
                </thead>
                <tbody id="emergencyTableBody">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </div>

        <script>
            // Admin login check
            let isLoggedIn = localStorage.getItem("isLoggedIn");
            if (isLoggedIn != "true") {
                window.location.href = "a_login.html";
            }

            document.getElementById("aWelcome").innerText = "Welcome Admin";

            // Emergency request data (frontend demo)
            const emergencies = [
                {
                    id: 1,
                    name: "Faria Islam",
                    bloodGroup: "AB+",
                    hospital: "City Hospital, Dhaka",
                    phone: "0171xxxxxxx",
                    status: "Critical",
                    time: "2025-04-20 09:45 AM",
                },
                {
                    id: 2,
                    name: "Tanvir Hossain",
                    bloodGroup: "O-",
                    hospital: "Apollo Hospital, Dhaka",
                    phone: "0182xxxxxxx",
                    status: "Handled",
                    time: "2025-04-19 10:30 PM",
                }
            ];

            function loadEmergencies() {
                const table = document.getElementById("emergencyTableBody");
                table.innerHTML = "";

                emergencies.forEach((e) => {
                    const row = document.create
